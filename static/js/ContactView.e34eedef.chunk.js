"use strict";(self.webpackChunkcontact_info=self.webpackChunkcontact_info||[]).push([[664],{8190:function(e,a,n){n.r(a),n.d(a,{default:function(){return w}});var r=n(9439),t=n(2791),s=n(7689),c=n(2433),l=n(1413),o=n(4925),i=n(184),u=["id","className"];var d=function(e){var a=e.id,n=e.className,r=(0,o.Z)(e,u);return(0,i.jsx)("input",(0,l.Z)({id:a,type:"text",className:"border border-gray-300 px-1 ".concat(n)},r))};var f=function(e){e.id;var a=e.label,n=e.value,r=e.checked,t=e.className,s=e.onChange;return(0,i.jsxs)("label",{className:"inline-flex hover:cursor-pointer ".concat(t),children:[(0,i.jsx)("input",{type:"radio",value:n,checked:r,onChange:s,className:"mr-2"}),a]})};var h=function(e){var a=e.placeholder,n=void 0===a?"--":a,s=e.customLabel,c=e.className,l=e.children,o=(0,t.useState)(!1),u=(0,r.Z)(o,2),d=u[0],f=u[1];function h(e){e.stopPropagation(),f(!1)}return(0,t.useEffect)((function(){return d?document.body.addEventListener("click",h):document.body.removeEventListener("click",h),function(){document.body.removeEventListener("click",h)}}),[d]),(0,i.jsxs)("div",{className:"relative ".concat(c),children:[(0,i.jsx)("div",{className:"hover:cursor-pointer border border-gray-300 rounded-sm p-1 w-40",onClick:function(e){e.stopPropagation(),f(!d)},children:s&&s()||n}),d&&(0,i.jsx)("div",{className:"absolute min-h-[10px] bg-white border border-gray-300 hover:cursor-pointer w-40 py-2 z-10",onClick:function(e){return e.stopPropagation()},children:l&&l(f)})]})};var v=function(e){var a=e.radios,n=e.placeholder,s=e.className,c=e.onChange,l=(0,t.useState)(""),o=(0,r.Z)(l,2),u=o[0],d=o[1];function v(e,a){c&&c(e.target.value),a(!1),d(e.target.value)}var m=(0,t.useCallback)((function(e){c&&c(),e.stopPropagation(),d("")}),[c]),x=(0,t.useCallback)((function(){if(u){var e=a.find((function(e){return e.value===u}));return(0,i.jsxs)("div",{className:"flex justify-between",children:[null===e||void 0===e?void 0:e.label,(0,i.jsx)("button",{onClick:m,children:"X"})]})}return""}),[a,u,m]);return(0,i.jsx)(h,{className:s,placeholder:n,customLabel:x,children:function(e){return(0,i.jsx)("div",{className:"flex flex-col space-y-2 mb-4",children:a.map((function(a){return(0,i.jsx)(f,{className:"pl-2 hover:bg-blue-100",label:a.label,value:a.value,checked:u===a.value,onChange:function(a){return v(a,e)}},a.value)}))})}})};var m=function(e){var a=e.className,n=e.setFilter;return(0,i.jsxs)("div",{className:"px-4 pb-5 ".concat(a),children:[(0,i.jsx)("h2",{className:"text-xl mb-2",children:"Contact"}),(0,i.jsx)(d,{placeholder:"Search Characters",id:"character_search",className:"mb-2",onInput:function(e){n((function(a){return(0,l.Z)((0,l.Z)({},a),{},{keyword:e.target.value})}))}}),(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)(v,{placeholder:"Status",radios:[{label:"Alive",value:"Alive"},{label:"Dead",value:"Dead"},{label:"Unknown",value:"unknown"}],className:"mr-2",onChange:function(e){n((function(a){return(0,l.Z)((0,l.Z)({},a),{},{status:e})}))}}),(0,i.jsx)(v,{placeholder:"Gender",radios:[{label:"Male",value:"Male"},{label:"Female",value:"Female"},{label:"Genderless",value:"Genderless"},{label:"Unknown",value:"unknown"}],onChange:function(e){n((function(a){return(0,l.Z)((0,l.Z)({},a),{},{gender:e})}))}})]})]})},x=n(4165),b=n(5861),p=n(1662),g=n(4821),j=n(1087),N=["character","className"];var Z=function(e){var a=e.character,n=e.className,r=(0,o.Z)(e,N),s=(0,t.useContext)(c.Z).setCharacter;return(0,i.jsxs)(j.OL,(0,l.Z)((0,l.Z)({to:String(a.id),className:"py-4 px-4 flex items-center ".concat(n),onClick:function(e){e.stopPropagation(),s(a)}},r),{},{children:[(0,i.jsx)("img",{src:a.image,alt:"Avatar",width:"100",height:"100",className:"rounded-full mr-6"}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("span",{className:"mb-2",children:a.name}),(0,i.jsx)("span",{children:a.species})]})]}))};var k=function(e){var a=e.filter,n=(0,t.useState)(450),s=(0,r.Z)(n,2),c=s[0],l=s[1],o=(0,t.useState)(900),u=(0,r.Z)(o,2),d=u[0],f=u[1],h=(0,t.useState)([]),v=(0,r.Z)(h,2),m=v[0],j=v[1],N=(0,t.useState)([]),k=(0,r.Z)(N,2),C=k[0],y=k[1],w=(0,t.useRef)(null);return(0,t.useEffect)((function(){function e(){return e=(0,b.Z)((0,x.Z)().mark((function e(){var n;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.CHARACTER.getAll(a);case 2:n=e.sent,j(n);case 4:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a]),(0,t.useEffect)((function(){if(Object.keys(a).length){var e=m.filter((function(e){return(!a.keyword||e.name.toLowerCase().includes(a.keyword.toLowerCase()))&&(!a.status||e.status===a.status)&&(!a.gender||e.gender===a.gender)}));y(e)}else y(m)}),[a,m]),(0,t.useEffect)((function(){w.current&&(l(w.current.clientWidth),f(w.current.offsetHeight))}),[w]),(0,i.jsx)("div",{ref:w,className:"h-full overflow-auto",children:(0,i.jsx)(g.t7,{width:c,height:d,itemSize:135,itemCount:C.length,itemData:C,children:function(e){var a=e.index,n=e.style,r=m[a];return(0,i.jsx)(Z,{style:n,character:r,className:"\n                  hover:cursor-pointer\n                  hover:bg-blue-100\n                  ".concat(a!==m.length-1?"border-b border-gray-300":"","\n                ")},r.id)}})})},C=["className"];var y=function(e){var a=e.className,n=(0,o.Z)(e,C),s=(0,t.useState)({}),c=(0,r.Z)(s,2),u=c[0],d=c[1];return(0,i.jsxs)("div",(0,l.Z)((0,l.Z)({className:"flex flex-col overflow-hidden ".concat(a)},n),{},{children:[(0,i.jsx)(m,{className:" border-b border-gray-300",setFilter:d}),(0,i.jsx)(k,{className:"flex-auto",filter:u})]}))};var w=function(){var e=(0,t.useState)(null),a=(0,r.Z)(e,2),n=a[0],l=a[1];return(0,i.jsx)(c.Z.Provider,{value:{character:n,setCharacter:l},children:(0,i.jsxs)("div",{className:"grid grid-cols-contact overflow-hidden",children:[(0,i.jsx)(y,{className:"border-r border-gray-300"}),(0,i.jsx)(t.Suspense,{fallback:(0,i.jsx)("div",{children:"Page is Loading..."}),children:(0,i.jsx)(s.j3,{})})]})})}}}]);
//# sourceMappingURL=ContactView.e34eedef.chunk.js.map